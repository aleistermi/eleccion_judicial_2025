<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de An치lisis de Datos</title>
    
    <!-- Plotly.js para gr치ficos interactivos -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    <!-- Marked.js para procesar markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        
        .header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 3px solid #007bff;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #007bff;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #666;
            font-size: 1.2em;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            color: #007bff;
            border-left: 4px solid #007bff;
            padding-left: 15px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .section h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .markdown-content {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
        }
        
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 30px 0;
        }
        
        .chart-title {
            text-align: center;
            color: #495057;
            margin-bottom: 20px;
            font-size: 1.3em;
            font-weight: 600;
        }
        
        .insights {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .insights h3 {
            color: white;
            margin-bottom: 15px;
        }
        
        .insights ul {
            padding-left: 20px;
        }
        
        .insights li {
            margin-bottom: 8px;
        }
        
        .footer {
            text-align: center;
            padding: 30px 0;
            border-top: 2px solid #dee2e6;
            margin-top: 50px;
            color: #666;
        }
        
        .date-info {
            background: #e9ecef;
            padding: 10px 20px;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 30px;
            color: #495057;
        }
        
        code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        blockquote {
            border-left: 4px solid #ffc107;
            background: #fff3cd;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>游늵 An치lisis de Datos Interactivo</h1>
            <div class="subtitle">Reporte Completo con Visualizaciones</div>
        </div>
        
        <!-- Informaci칩n de fecha -->
        <div class="date-info">
            <strong>Fecha del reporte:</strong> <span id="report-date"></span>
        </div>
        
        <!-- Secci칩n 1: Introducci칩n -->
        <div class="section">
            <h2>游꿢 Introducci칩n</h2>
            <div class="markdown-content" id="intro-content">
                <!-- El contenido markdown se cargar치 aqu칤 -->
            </div>
        </div>
        
        <!-- Secci칩n 2: Primer Gr치fico -->
        <div class="section">
            <h2>游늳 An치lisis de Tendencias</h2>
            <div class="markdown-content" id="trends-content">
                <!-- Contenido markdown para tendencias -->
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Evoluci칩n de Ventas Mensuales</div>
                <div id="chart1" style="height: 500px;"></div>
            </div>
            
            <div class="insights">
                <h3>游눠 Insights Clave</h3>
                <ul>
                    <li>Se observa un crecimiento constante durante el primer trimestre</li>
                    <li>Hay una ca칤da notable en abril, posiblemente por factores estacionales</li>
                    <li>La recuperaci칩n en mayo-junio muestra resiliencia del negocio</li>
                </ul>
            </div>
        </div>
        
        <!-- Secci칩n 3: Segundo Gr치fico -->
        <div class="section">
            <h2>游꿢 Distribuci칩n por Categor칤as</h2>
            <div class="markdown-content" id="categories-content">
                <!-- Contenido markdown para categor칤as -->
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Participaci칩n de Mercado por Producto</div>
                <div id="chart2" style="height: 500px;"></div>
            </div>
        </div>
        
        <!-- Secci칩n 4: Tercer Gr치fico -->
        <div class="section">
            <h2>游깴 An치lisis Geogr치fico</h2>
            <div class="markdown-content" id="geographic-content">
                <!-- Contenido markdown para an치lisis geogr치fico -->
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Ventas por Regi칩n</div>
                <div id="chart3" style="height: 500px;"></div>
            </div>
        </div>
        
        <!-- Secci칩n 5: Conclusiones -->
        <div class="section">
            <h2>游꿢 Conclusiones y Recomendaciones</h2>
            <div class="markdown-content" id="conclusions-content">
                <!-- Contenido markdown para conclusiones -->
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Reporte generado autom치ticamente | 춸 2024 An치lisis de Datos</p>
        </div>
    </div>

    <script>
        // Configurar la fecha del reporte
        document.getElementById('report-date').textContent = new Date().toLocaleDateString('es-ES', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        
        // Contenido Markdown para cada secci칩n
        const markdownContent = {
            intro: `
## Resumen Ejecutivo

Este reporte presenta un **an치lisis completo** de los datos de ventas del 칰ltimo trimestre. 

### Objetivos del an치lisis:
- Identificar tendencias de crecimiento
- Analizar la distribuci칩n por categor칤as
- Evaluar el rendimiento geogr치fico
- Proporcionar recomendaciones estrat칠gicas

> **Nota importante:** Los datos han sido procesados y validados siguiendo las mejores pr치cticas de an치lisis de datos.
            `,
            
            trends: `
## Metodolog칤a de An치lisis

Para el an치lisis de tendencias utilizamos:

1. **Datos hist칩ricos** de los 칰ltimos 12 meses
2. **T칠cnicas de suavizado** para identificar patrones
3. **An치lisis estacional** para detectar ciclos

### M칠tricas clave:
- \`Crecimiento mensual\`: +12.5% promedio
- \`Variabilidad\`: 췀8.3% desviaci칩n est치ndar
- \`Tendencia general\`: **Positiva** 游늳
            `,
            
            categories: `
## An치lisis de Productos

La distribuci칩n por categor칤as revela informaci칩n valiosa sobre:

### Categor칤as principales:
- **Electr칩nicos**: L칤der del mercado con 35% de participaci칩n
- **Ropa**: Segundo lugar con crecimiento sostenido (28%)
- **Hogar**: Categor칤a emergente con potencial de expansi칩n (22%)
- **Otros**: Productos especializados (15%)

*Los datos muestran una diversificaci칩n saludable del portafolio.*
            `,
            
            geographic: `
## Distribuci칩n Geogr치fica

El an치lisis regional muestra patrones interesantes:

### Regiones de alto rendimiento:
1. **Norte**: Mayor volumen de ventas
2. **Centro**: Mejor margen de ganancia
3. **Sur**: Mayor crecimiento porcentual

### Oportunidades identificadas:
- Expansi칩n en mercados emergentes
- Optimizaci칩n de la cadena de suministro
- Estrategias regionales diferenciadas
            `,
            
            conclusions: `
## Recomendaciones Estrat칠gicas

Basado en el an치lisis realizado, se recomienda:

### Acciones inmediatas:
1. **Fortalecer** la categor칤a de electr칩nicos
2. **Expandir** presencia en la regi칩n sur
3. **Optimizar** inventario en productos de baja rotaci칩n

### Acciones a mediano plazo:
- Desarrollar nuevos canales de distribuci칩n
- Implementar estrategias de marketing digital
- Mejorar la experiencia del cliente

### M칠tricas de seguimiento:
- Crecimiento mensual > 10%
- Satisfacci칩n del cliente > 85%
- Margen de ganancia > 25%

---

**쯇reguntas?** Este reporte est치 dise침ado para ser interactivo. Puedes explorar los gr치ficos haciendo clic y zoom.
            `
        };
        
        // Funci칩n para renderizar markdown
        function renderMarkdown(elementId, content) {
            document.getElementById(elementId).innerHTML = marked.parse(content);
        }
        
        // Renderizar todo el contenido markdown
        renderMarkdown('intro-content', markdownContent.intro);
        renderMarkdown('trends-content', markdownContent.trends);
        renderMarkdown('categories-content', markdownContent.categories);
        renderMarkdown('geographic-content', markdownContent.geographic);
        renderMarkdown('conclusions-content', markdownContent.conclusions);
        
        // Gr치fico 1: L칤nea de tendencias
        const chart1Data = [{
            x: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
            y: [100, 120, 140, 110, 160, 180, 200, 190, 220, 240, 260, 280],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Ventas',
            line: {
                color: '#007bff',
                width: 3
            },
            marker: {
                size: 8,
                color: '#007bff'
            }
        }];
        
        const chart1Layout = {
            title: '',
            xaxis: { title: 'Mes' },
            yaxis: { title: 'Ventas (Miles $)' },
            showlegend: false,
            plot_bgcolor: '#f8f9fa',
            paper_bgcolor: 'white'
        };
        
        Plotly.newPlot('chart1', chart1Data, chart1Layout, {responsive: true});
        
        // Gr치fico 2: Gr치fico de pastel
        const chart2Data = [{
            values: [35, 28, 22, 15],
            labels: ['Electr칩nicos', 'Ropa', 'Hogar', 'Otros'],
            type: 'pie',
            marker: {
                colors: ['#007bff', '#28a745', '#ffc107', '#dc3545']
            },
            textinfo: 'label+percent',
            textposition: 'outside'
        }];
        
        const chart2Layout = {
            title: '',
            showlegend: true,
            legend: {
                orientation: 'h',
                y: -0.1
            }
        };
        
        Plotly.newPlot('chart2', chart2Data, chart2Layout, {responsive: true});
        
        // Gr치fico 3: Barras horizontales
        const chart3Data = [{
            y: ['Norte', 'Centro', 'Sur', 'Este', 'Oeste'],
            x: [450, 380, 320, 290, 250],
            type: 'bar',
            orientation: 'h',
            marker: {
                color: ['#007bff', '#28a745', '#ffc107', '#17a2b8', '#6f42c1']
            }
        }];
        
        const chart3Layout = {
            title: '',
            xaxis: { title: 'Ventas (Miles $)' },
            yaxis: { title: 'Regi칩n' },
            showlegend: false,
            plot_bgcolor: '#f8f9fa',
            paper_bgcolor: 'white'
        };
        
        Plotly.newPlot('chart3', chart3Data, chart3Layout, {responsive: true});
        
        // Hacer los gr치ficos responsivos
        window.addEventListener('resize', function() {
            Plotly.Plots.resize('chart1');
            Plotly.Plots.resize('chart2');
            Plotly.Plots.resize('chart3');
        });
    </script>
</body>
</html>
